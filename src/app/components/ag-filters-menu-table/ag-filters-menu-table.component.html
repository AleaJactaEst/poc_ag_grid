<p [ngStyle]="{ fontWeight: '500', fontSize: '20px' }">
  Warning: Enterprise Subscription required for enabling
  <a href="https://www.ag-grid.com/angular-data-grid/side-bar/" target="_blank">Sidebar</a>
  accessory.(Check console for logs)
</p>
<p [ngStyle]="{ fontSize: '18px' }">
  We can modify columnDefs input dynamically and update the table view accordingly. See example below.
</p>

<div class="column-editor-wrapper">
  <mat-card *ngFor="let columnGroup of columnDefs" [formGroup]="groupColumnsControls">
    <mat-card-header>
      <mat-card-title>{{ columnGroup.headerName }}</mat-card-title>
      <mat-card-subtitle>Please choose {{ columnGroup.headerName }} sub-columns to show.</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="column-editor-content">
      <mat-slide-toggle
        [checked]="true"
        class="slider"
        color="primary"
        (toggleChange)="toggleColumnGroup(columnGroup.groupId)"
      >Show Column</mat-slide-toggle>
<!--      {{ $any(groupColumnsControls).get(columnGroup.groupId) | async | json }}-->
      <mat-form-field [formGroup]="$any(groupColumnsControls).get(columnGroup.groupId)">
        <mat-label>{{ columnGroup.headerName }} Sub-Columns</mat-label>
        <mat-select
          formControlName="checked"
          class="capitalizer"
          multiple
          (selectionChange)="selectionChanged($event, columnGroup.headerName)"
        >
          <mat-option class="capitalizer" *ngFor="let topping of getColumnGroup(columnGroup.groupId ?? '')" [value]="topping">{{ topping.field }}</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
  </mat-card>
</div>

<ag-grid-angular
  style="width: 100%; height: 80%; margin-bottom: 30px;"
  class="ag-theme-balham"
  sideBar
  [columnDefs]="columnDefs"
  [defaultColDef]="defaultColDef"
  [autoGroupColumnDef]="autoGroupColumnDef"
  [sideBar]="true"
  [rowData]="rowData"
  (gridReady)="onGridReady($event)"
></ag-grid-angular>
